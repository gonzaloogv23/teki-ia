{"ast":null,"code":"import React,{useState}from'react';import{ref,uploadBytes,getDownloadURL}from'firebase/storage';import{storage}from'../firebaseConfig';import'./estilosComponentes/cargarpdf.css';import logo from'../assets/llama.png';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CargarPdfForm=_ref=>{let{setPdfFile}=_ref;const[pdfFile,setPdfFileInternal]=useState(null);const[uploading,setUploading]=useState(false);const[error,setError]=useState(null);const handlePdfChange=event=>{setPdfFileInternal(event.target.files[0]);};const enviarPdf=async()=>{if(!pdfFile){setError('Seleccione un archivo PDF para cargar.');return;}setUploading(true);const storageRef=ref(storage,`pdfs/${pdfFile.name}`);try{await uploadBytes(storageRef,pdfFile);const downloadURL=await getDownloadURL(storageRef);setPdfFile(downloadURL);alert('Archivo PDF subido exitosamente.');}catch(error){console.error('Error al subir el archivo:',error);setError('Hubo un error al subir el archivo. Inténtalo de nuevo.');}finally{setUploading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"logo-circle\",children:/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",xmlnsXlink:\"http://www.w3.org/1999/xlink\",width:\"25\",height:\"25\",viewBox:\"0 0 512 419.116\",children:[/*#__PURE__*/_jsx(\"defs\",{children:/*#__PURE__*/_jsx(\"clipPath\",{id:\"clip-folder-new\",children:/*#__PURE__*/_jsx(\"rect\",{width:\"512\",height:\"419.116\"})})}),/*#__PURE__*/_jsx(\"g\",{id:\"folder-new\",clipPath:\"url(#clip-folder-new)\",children:/*#__PURE__*/_jsx(\"path\",{id:\"Union_1\",\"data-name\":\"Union 1\",d:\"M16.991,419.116A16.989,16.989,0,0,1,0,402.125V16.991A16.989,16.989,0,0,1,16.991,0H146.124a17,17,0,0,1,10.342,3.513L227.217,57.77H437.805A16.989,16.989,0,0,1,454.8,74.761v53.244h40.213A16.992,16.992,0,0,1,511.6,148.657L454.966,405.222a17,17,0,0,1-16.6,13.332H410.053v.562ZM63.06,384.573H424.722L473.86,161.988H112.2Z\",stroke:\"\",strokeWidth:\"1\"})})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Teki Logo\"}),/*#__PURE__*/_jsx(\"p\",{className:\"modal-title\",children:\"Entrena a Teki\"}),/*#__PURE__*/_jsx(\"p\",{className:\"modal-description\",children:\"Sube tus archivos PDF para ense\\xF1ar a Teki nuevos conocimientos y habilidades\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"upload-area\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"upload-area-icon\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",xmlnsXlink:\"http://www.w3.org/1999/xlink\",width:\"35\",height:\"35\",viewBox:\"0 0 340.531 419.116\",children:/*#__PURE__*/_jsx(\"g\",{id:\"files-new\",clipPath:\"url(#clip-files-new)\",children:/*#__PURE__*/_jsx(\"path\",{id:\"Union_2\",\"data-name\":\"Union 2\",d:\"M-2904.708-8.885A39.292,39.292,0,0,1-2944-48.177V-388.708A39.292,39.292,0,0,1-2904.708-428h209.558a13.1,13.1,0,0,1,9.3,3.8l78.584,78.584a13.1,13.1,0,0,1,3.8,9.3V-48.177a39.292,39.292,0,0,1-39.292,39.292Zm-13.1-379.823V-48.177a13.1,13.1,0,0,0,13.1,13.1h261.947a13.1,13.1,0,0,0,13.1-13.1V-323.221h-52.39a26.2,26.2,0,0,1-26.194-26.195v-52.39h-196.46A13.1,13.1,0,0,0-2917.805-388.708Zm146.5,241.621a14.269,14.269,0,0,1-7.883-12.758v-19.113h-68.841c-7.869,0-7.87-47.619,0-47.619h68.842v-18.8a14.271,14.271,0,0,1,7.882-12.758,14.239,14.239,0,0,1,14.925,1.354l57.019,42.764c.242.185.328.485.555.671a13.9,13.9,0,0,1,2.751,3.292,14.57,14.57,0,0,1,.984,1.454,14.114,14.114,0,0,1,1.411,5.987,14.006,14.006,0,0,1-1.411,5.973,14.653,14.653,0,0,1-.984,1.468,13.9,13.9,0,0,1-2.751,3.293c-.228.2-.313.485-.555.671l-57.019,42.764a14.26,14.26,0,0,1-8.              14.26,14.26,0,0,1-8.558,2.847A14.326,14.326,0,0,1-2771.3-147.087Z\",transform:\"translate(2944 428)\"})})})}),/*#__PURE__*/_jsx(\"span\",{className:\"upload-area-title\",children:\"Seleccione un archivo PDF\"}),/*#__PURE__*/_jsx(\"span\",{className:\"upload-area-description\",children:\"O arrastre y suelte un archivo PDF aqu\\xED\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".pdf\",onChange:handlePdfChange,style:{display:'none'}})]}),uploading&&/*#__PURE__*/_jsx(\"p\",{children:\"Subiendo el archivo...\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",onClick:()=>setPdfFile(null),children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary\",onClick:enviarPdf,disabled:uploading,children:\"Enviar PDF\"})]})]});};export default CargarPdfForm;","map":{"version":3,"names":["React","useState","ref","uploadBytes","getDownloadURL","storage","logo","jsx","_jsx","jsxs","_jsxs","CargarPdfForm","_ref","setPdfFile","pdfFile","setPdfFileInternal","uploading","setUploading","error","setError","handlePdfChange","event","target","files","enviarPdf","storageRef","name","downloadURL","alert","console","className","children","xmlns","xmlnsXlink","width","height","viewBox","id","clipPath","d","stroke","strokeWidth","src","alt","transform","type","accept","onChange","style","display","color","onClick","disabled"],"sources":["C:/Users/Gonza/Desktop/tekiste/frontend/src/components/CargarPdfForm.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { ref, uploadBytes, getDownloadURL } from 'firebase/storage';\r\nimport { storage } from '../firebaseConfig';\r\nimport './estilosComponentes/cargarpdf.css';\r\nimport logo from '../assets/llama.png';\r\n\r\nconst CargarPdfForm = ({ setPdfFile }) => {\r\n  const [pdfFile, setPdfFileInternal] = useState(null);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const handlePdfChange = (event) => {\r\n    setPdfFileInternal(event.target.files[0]);\r\n  };\r\n\r\n  const enviarPdf = async () => {\r\n    if (!pdfFile) {\r\n      setError('Seleccione un archivo PDF para cargar.');\r\n      return;\r\n    }\r\n    setUploading(true);\r\n    const storageRef = ref(storage, `pdfs/${pdfFile.name}`);\r\n    try {\r\n      await uploadBytes(storageRef, pdfFile);\r\n      const downloadURL = await getDownloadURL(storageRef);\r\n      setPdfFile(downloadURL);\r\n      alert('Archivo PDF subido exitosamente.');\r\n    } catch (error) {\r\n      console.error('Error al subir el archivo:', error);\r\n      setError('Hubo un error al subir el archivo. Inténtalo de nuevo.');\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal\">\r\n      <div className=\"modal-header\">\r\n        <div className=\"logo-circle\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"25\" height=\"25\" viewBox=\"0 0 512 419.116\">\r\n            <defs>\r\n              <clipPath id=\"clip-folder-new\">\r\n                <rect width=\"512\" height=\"419.116\"></rect>\r\n              </clipPath>\r\n            </defs>\r\n            <g id=\"folder-new\" clipPath=\"url(#clip-folder-new)\">\r\n              <path id=\"Union_1\" data-name=\"Union 1\" d=\"M16.991,419.116A16.989,16.989,0,0,1,0,402.125V16.991A16.989,16.989,0,0,1,16.991,0H146.124a17,17,0,0,1,10.342,3.513L227.217,57.77H437.805A16.989,16.989,0,0,1,454.8,74.761v53.244h40.213A16.992,16.992,0,0,1,511.6,148.657L454.966,405.222a17,17,0,0,1-16.6,13.332H410.053v.562ZM63.06,384.573H424.722L473.86,161.988H112.2Z\" stroke=\"\" strokeWidth=\"1\"></path>\r\n            </g>\r\n          </svg>\r\n        </div>\r\n      </div>\r\n      <div className=\"modal-body\">\r\n        <img src={logo} alt=\"Teki Logo\" />\r\n        <p className=\"modal-title\">Entrena a Teki</p>\r\n        <p className=\"modal-description\">Sube tus archivos PDF para enseñar a Teki nuevos conocimientos y habilidades</p>\r\n        <button className=\"upload-area\">\r\n          <span className=\"upload-area-icon\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"35\" height=\"35\" viewBox=\"0 0 340.531 419.116\">\r\n              <g id=\"files-new\" clipPath=\"url(#clip-files-new)\">\r\n                <path id=\"Union_2\" data-name=\"Union 2\" d=\"M-2904.708-8.885A39.292,39.292,0,0,1-2944-48.177V-388.708A39.292,39.292,0,0,1-2904.708-428h209.558a13.1,13.1,0,0,1,9.3,3.8l78.584,78.584a13.1,13.1,0,0,1,3.8,9.3V-48.177a39.292,39.292,0,0,1-39.292,39.292Zm-13.1-379.823V-48.177a13.1,13.1,0,0,0,13.1,13.1h261.947a13.1,13.1,0,0,0,13.1-13.1V-323.221h-52.39a26.2,26.2,0,0,1-26.194-26.195v-52.39h-196.46A13.1,13.1,0,0,0-2917.805-388.708Zm146.5,241.621a14.269,14.269,0,0,1-7.883-12.758v-19.113h-68.841c-7.869,0-7.87-47.619,0-47.619h68.842v-18.8a14.271,14.271,0,0,1,7.882-12.758,14.239,14.239,0,0,1,14.925,1.354l57.019,42.764c.242.185.328.485.555.671a13.9,13.9,0,0,1,2.751,3.292,14.57,14.57,0,0,1,.984,1.454,14.114,14.114,0,0,1,1.411,5.987,14.006,14.006,0,0,1-1.411,5.973,14.653,14.653,0,0,1-.984,1.468,13.9,13.9,0,0,1-2.751,3.293c-.228.2-.313.485-.555.671l-57.019,42.764a14.26,14.26,0,0,1-8.              14.26,14.26,0,0,1-8.558,2.847A14.326,14.326,0,0,1-2771.3-147.087Z\" transform=\"translate(2944 428)\"></path>\r\n              </g>\r\n            </svg>\r\n          </span>\r\n          <span className=\"upload-area-title\">Seleccione un archivo PDF</span>\r\n          <span className=\"upload-area-description\">O arrastre y suelte un archivo PDF aquí</span>\r\n          <input type=\"file\" accept=\".pdf\" onChange={handlePdfChange} style={{ display: 'none' }} />\r\n        </button>\r\n        {uploading && <p>Subiendo el archivo...</p>}\r\n        {error && <p style={{ color: 'red' }}>{error}</p>}\r\n      </div>\r\n      <div className=\"modal-footer\">\r\n        <button className=\"btn-secondary\" onClick={() => setPdfFile(null)}>\r\n          Cancelar\r\n        </button>\r\n        <button className=\"btn-primary\" onClick={enviarPdf} disabled={uploading}>\r\n          Enviar PDF\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CargarPdfForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}