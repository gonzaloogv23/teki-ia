{"ast":null,"code":"import axios from'axios';import RespuestaTransformer from'../components/RespuestaTransformer';import{collection,addDoc}from'firebase/firestore';import{db}from'../firebaseConfig';const API_KEY='7b915d72-308a-4578-b5a1-2925985fa5ec';const MODEL='Meta-Llama-3.1-8B-Instruct';const sambanovaService={async obtenerRespuesta(mensaje){const mensajes=[{role:'system',content:'You are a helpful assistant'},{role:'user',content:mensaje}];try{const respuesta=await axios.post(`https://api.sambanova.ai/v1/chat/completions`,{stream:true,model:MODEL,messages:mensajes},{headers:{Authorization:`Bearer ${API_KEY}`,'Content-Type':'application/json'}});const respuestaTransformada=RespuestaTransformer.transformarRespuesta(respuesta);console.log(\"respuesta transformada\",respuestaTransformada);// Almacenar la respuesta en Firestore\nawait addDoc(collection(db,'conversaciones'),{mensaje,respuesta:respuestaTransformada,timestamp:new Date()});return respuestaTransformada;}catch(error){console.error(\"Error al obtener la respuesta\",error);return\"Error al obtener la respuesta\";}}};export default sambanovaService;","map":{"version":3,"names":["axios","RespuestaTransformer","collection","addDoc","db","API_KEY","MODEL","sambanovaService","obtenerRespuesta","mensaje","mensajes","role","content","respuesta","post","stream","model","messages","headers","Authorization","respuestaTransformada","transformarRespuesta","console","log","timestamp","Date","error"],"sources":["C:/Users/Gonza/Desktop/tekiste/frontend/src/services/sambanovaService.js"],"sourcesContent":["import axios from 'axios';\r\nimport RespuestaTransformer from '../components/RespuestaTransformer';\r\nimport { collection, addDoc } from 'firebase/firestore';\r\nimport { db } from '../firebaseConfig';\r\n\r\nconst API_KEY = '7b915d72-308a-4578-b5a1-2925985fa5ec';\r\nconst MODEL = 'Meta-Llama-3.1-8B-Instruct';\r\n\r\nconst sambanovaService = {\r\n  async obtenerRespuesta(mensaje) {\r\n    const mensajes = [\r\n      {\r\n        role: 'system',\r\n        content: 'You are a helpful assistant',\r\n      },\r\n      {\r\n        role: 'user',\r\n        content: mensaje,\r\n      },\r\n    ];\r\n\r\n    try {\r\n      const respuesta = await axios.post(`https://api.sambanova.ai/v1/chat/completions`, {\r\n        stream: true,\r\n        model: MODEL,\r\n        messages: mensajes,\r\n      }, {\r\n        headers: {\r\n          Authorization: `Bearer ${API_KEY}`,\r\n          'Content-Type': 'application/json',\r\n        },\r\n      });\r\n      const respuestaTransformada = RespuestaTransformer.transformarRespuesta(respuesta);\r\n      console.log(\"respuesta transformada\", respuestaTransformada);\r\n\r\n      // Almacenar la respuesta en Firestore\r\n      await addDoc(collection(db, 'conversaciones'), {\r\n        mensaje,\r\n        respuesta: respuestaTransformada,\r\n        timestamp: new Date()\r\n      });\r\n\r\n      return respuestaTransformada;\r\n    } catch (error) {\r\n      console.error(\"Error al obtener la respuesta\", error);\r\n      return \"Error al obtener la respuesta\";\r\n    }\r\n  },\r\n};\r\n\r\nexport default sambanovaService;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,oBAAoB,KAAM,oCAAoC,CACrE,OAASC,UAAU,CAAEC,MAAM,KAAQ,oBAAoB,CACvD,OAASC,EAAE,KAAQ,mBAAmB,CAEtC,KAAM,CAAAC,OAAO,CAAG,sCAAsC,CACtD,KAAM,CAAAC,KAAK,CAAG,4BAA4B,CAE1C,KAAM,CAAAC,gBAAgB,CAAG,CACvB,KAAM,CAAAC,gBAAgBA,CAACC,OAAO,CAAE,CAC9B,KAAM,CAAAC,QAAQ,CAAG,CACf,CACEC,IAAI,CAAE,QAAQ,CACdC,OAAO,CAAE,6BACX,CAAC,CACD,CACED,IAAI,CAAE,MAAM,CACZC,OAAO,CAAEH,OACX,CAAC,CACF,CAED,GAAI,CACF,KAAM,CAAAI,SAAS,CAAG,KAAM,CAAAb,KAAK,CAACc,IAAI,CAAC,8CAA8C,CAAE,CACjFC,MAAM,CAAE,IAAI,CACZC,KAAK,CAAEV,KAAK,CACZW,QAAQ,CAAEP,QACZ,CAAC,CAAE,CACDQ,OAAO,CAAE,CACPC,aAAa,CAAE,UAAUd,OAAO,EAAE,CAClC,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CACF,KAAM,CAAAe,qBAAqB,CAAGnB,oBAAoB,CAACoB,oBAAoB,CAACR,SAAS,CAAC,CAClFS,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAEH,qBAAqB,CAAC,CAE5D;AACA,KAAM,CAAAjB,MAAM,CAACD,UAAU,CAACE,EAAE,CAAE,gBAAgB,CAAC,CAAE,CAC7CK,OAAO,CACPI,SAAS,CAAEO,qBAAqB,CAChCI,SAAS,CAAE,GAAI,CAAAC,IAAI,CAAC,CACtB,CAAC,CAAC,CAEF,MAAO,CAAAL,qBAAqB,CAC9B,CAAE,MAAOM,KAAK,CAAE,CACdJ,OAAO,CAACI,KAAK,CAAC,+BAA+B,CAAEA,KAAK,CAAC,CACrD,MAAO,+BAA+B,CACxC,CACF,CACF,CAAC,CAED,cAAe,CAAAnB,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}